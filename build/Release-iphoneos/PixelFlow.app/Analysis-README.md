# Analysis - Анализ изображений

Интеллектуальный анализ изображений для оптимизации генерации частиц.

## Файлы

### ImageAnalyzer.swift
**Анализатор изображений с SIMD оптимизациями**

**Функциональность:**
- Анализ базовых характеристик (яркость, контраст, насыщенность)
- Определение доминирующих цветов
- Расчет текстуры и сложности изображения
- SIMD-оптимизированные вычисления с Accelerate

**Методы:**
- `analyzeBasicProperties()` - базовый анализ цвета и яркости
- `analyzeColorPalette()` - анализ цветовой палитры
- `analyzeTextureAndContrast()` - анализ текстуры и контраста
- `analyzePixelsSIMD()` - векторизованный анализ пикселей

**Оптимизации:**
- Использование `vDSP` для векторных операций
- Многопоточная обработка разных аспектов
- Эффективное управление памятью

### ImageAnalysis.swift
**Структуры данных результатов анализа**

**Ключевые структуры:**
- `ImageAnalysis` - основные результаты анализа
- `BasicImageProperties` - базовые свойства цвета
- `ColorAnalysis` - анализ цветовой палитры
- `TextureAnalysis` - анализ текстуры

**Метрики анализа:**
- Размеры изображения (ширина/высота)
- Средний цвет в пространстве RGB
- Контрастность и яркость
- Плотность цветных пикселей
- Сложность (количество переходов цвета)
- Доминирующие цвета
- Дисперсия цветов
- Плотность краев
- Общая насыщенность

## Процесс анализа

```
CGImage → анализ пикселей → SIMD обработка → метрики → ImageAnalysis
```

## Применение

Результаты анализа используются для:
- Оптимизации стратегий сэмплинга
- Настройки параметров качества
- Кэширования результатов
- Отладки и мониторинга