# Analysis - Анализ изображений

Интеллектуальный анализ изображений для оптимизации генерации частиц.

## Файлы

### ImageAnalyzer.swift
**Анализатор изображений с SIMD оптимизациями**

**Функциональность:**
- Анализ базовых характеристик (яркость, контраст, насыщенность)
- Определение доминирующих цветов
- Расчет текстуры и сложности изображения
- SIMD-оптимизированные вычисления с Accelerate

**Ключевой метод:**
- `analyze(image:)` - полный проход анализа и формирование `ImageAnalysis`

**Оптимизации:**
- Использование `vDSP` для векторных операций
- Многопоточная обработка разных аспектов
- Эффективное управление памятью

### ImageAnalysis.swift
**Структуры данных результатов анализа**

**Ключевые структуры:**
- `ImageAnalysis` - основные результаты анализа

**Метрики анализа:**
- Размеры изображения (ширина/высота)
- Средний цвет в пространстве RGB
- Контрастность и яркость
- Плотность цветных пикселей
- Сложность (количество переходов цвета)
- Доминирующие цвета
- Дисперсия цветов
- Плотность краев
- Общая насыщенность

## Процесс анализа

```
CGImage → анализ пикселей → SIMD обработка → метрики → ImageAnalysis
```

## Применение

Результаты анализа используются для:
- Оптимизации стратегий сэмплинга (через `dominantColors` и параметры важности)
- Настройки параметров качества и калибровки выборки
- Отладки и мониторинга
