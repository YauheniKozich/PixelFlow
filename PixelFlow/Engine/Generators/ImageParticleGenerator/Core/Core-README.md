# Core - Ядро системы

Главная папка с основными компонентами ImageParticleGenerator.

## Файлы

### ImageParticleGenerator.swift
**Главный координатор системы**

- Управляет всем процессом генерации частиц
- Координирует работу компонентов (анализатор, сэмплер, сборщик)
- Предоставляет публичный API для пользователей
- Обрабатывает асинхронные операции и кэширование
- Отслеживает прогресс и ошибки

**Ключевые методы:**
- `generateParticles()` - основная синхронная генерация
- `generateParticlesAsync()` - асинхронная генерация
- `updateScreenSize()` - настройка размеров экрана

### GeneratorProtocol.swift
**Базовые протоколы генератора**

- `ImageParticleGeneratorProtocol` - основной интерфейс
- Определяет контракт для всех генераторов частиц из изображений
- Обеспечивает совместимость и расширяемость

### Protocols.swift
**Общие протоколы компонентов**

- `ImageAnalyzer` - протокол для анализа изображений
- `PixelSampler` - протокол для сэмплинга пикселей
- `ParticleAssembler` - протокол для сборки частиц
- `CacheManager` - протокол для кэширования
- `ParticleGeneratorDelegate` - обратные вызовы

## Взаимодействие

```
Пользователь
    ↓
ImageParticleGenerator (координатор)
    ↓
├── ImageAnalyzer (анализ)
├── PixelSampler (сэмплинг)
├── ParticleAssembler (сборка)
└── CacheManager (кэширование)
```