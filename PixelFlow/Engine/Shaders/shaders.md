# Shaders Directory

## –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —à–µ–π–¥–µ—Ä–æ–≤ Metal –¥–ª—è –ø—Ä–æ–µ–∫—Ç–∞ PixelFlow

–ü–∞–ø–∫–∞ `Engine/Shaders/` —Å–æ–¥–µ—Ä–∂–∏—Ç –º–æ–¥—É–ª—å–Ω—É—é –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—é Metal —à–µ–π–¥–µ—Ä–æ–≤ –¥–ª—è –ª—É—á—à–µ–π –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º–æ—Å—Ç–∏ –∏ —á–∏—Ç–∞–µ–º–æ—Å—Ç–∏ –∫–æ–¥–∞.

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ñ–∞–π–ª–æ–≤

### üìÅ Core/ - –Ø–¥—Ä–æ —Å–∏—Å—Ç–µ–º—ã
#### Common.h
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –û–±—â–∏–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –¥–∞–Ω–Ω—ã—Ö
- `Particle` - —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ —á–∞—Å—Ç–∏—Ü—ã —Å –ø–æ–∑–∏—Ü–∏–µ–π, —Å–∫–æ—Ä–æ—Å—Ç—å—é, —Ü–≤–µ—Ç–æ–º –∏ —Ä–∞–∑–º–µ—Ä–∞–º–∏
- `SimulationParams` - –ø–∞—Ä–∞–º–µ—Ç—Ä—ã —Å–∏–º—É–ª—è—Ü–∏–∏ –¥–ª—è –ø–µ—Ä–µ–¥–∞—á–∏ –≤ —à–µ–π–¥–µ—Ä—ã

#### Utils.h
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –í—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏
- `hash(float n)` - —Ñ—É–Ω–∫—Ü–∏—è —Ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ —Å–ª—É—á–∞–π–Ω—ã—Ö —á–∏—Å–µ–ª
- `noise(float3 p)` - —Ñ—É–Ω–∫—Ü–∏—è —à—É–º–∞ –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è —Ö–∞–æ—Ç–∏—á–Ω—ã—Ö —ç—Ñ—Ñ–µ–∫—Ç–æ–≤

### üìÅ Rendering/ - –†–µ–Ω–¥–µ—Ä–∏–Ω–≥
#### Basic.h
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –ë–∞–∑–æ–≤—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞
- Vertex —Ç—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∞—Ü–∏–∏ (`vertexParticle()`)
- Fragment —à–µ–π–¥–µ—Ä—ã (`fragmentParticle()`)
- –û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã pipeline —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞

#### Basic.h
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –û—Å–Ω–æ–≤–Ω–æ–π —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥ —á–∞—Å—Ç–∏—Ü —Å –ø—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–º –æ—Å–≤–µ—â–µ–Ω–∏–µ–º
- **Vertex —Ç—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∞—Ü–∏–∏**: –ø–æ–∑–∏—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —á–∞—Å—Ç–∏—Ü (`vertexParticle()`)
- **Fragment —à–µ–π–¥–µ—Ä—ã**: –æ—Å–≤–µ—â–µ–Ω–∏–µ –∏ —Ü–≤–µ—Ç–∞ (`fragmentParticle()`)
- **–¶–∏–Ω–µ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ—Å–≤–µ—â–µ–Ω–∏–µ**: glow, bloom, state-based —ç—Ñ—Ñ–µ–∫—Ç—ã
- **Lightning —ç—Ñ—Ñ–µ–∫—Ç—ã**: —ç–ª–µ–∫—Ç—Ä–∏—á–µ—Å–∫–∏–µ –º–æ–ª–Ω–∏–∏ —Å zigzag —ç—Ñ—Ñ–µ–∫—Ç–æ–º
- **–ê–ª—å—Ñ–∞-–±–ª–µ–Ω–¥–∏–Ω–≥**: state-based –ø—Ä–æ–∑—Ä–∞—á–Ω–æ—Å—Ç—å

### üìÅ Compute/ - –í—ã—á–∏—Å–ª–∏—Ç–µ–ª—å–Ω—ã–µ —à–µ–π–¥–µ—Ä—ã
#### Physics.h
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –§–∏–∑–∏—á–µ—Å–∫–∏–µ —Ä–∞—Å—á–µ—Ç—ã
- –î–∏–Ω–∞–º–∏–∫–∞ —á–∞—Å—Ç–∏—Ü (`updateParticles()`)
- –†–∞—Å—á–µ—Ç—ã —Å–∏–ª–æ–≤—ã—Ö –ø–æ–ª–µ–π
- –û–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ —Å—Ç–æ–ª–∫–Ω–æ–≤–µ–Ω–∏–π

#### Simulation.h
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –õ–æ–≥–∏–∫–∞ —Å–∏–º—É–ª—è—Ü–∏–∏
- –ö–æ–Ω–µ—á–Ω—ã–π –∞–≤—Ç–æ–º–∞—Ç —Å–æ—Å—Ç–æ—è–Ω–∏–π (idle, chaotic, collecting, collected)
- –í—Ä–µ–º–µ–Ω–Ω–∞—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è (Euler, Verlet –º–µ—Ç–æ–¥—ã)
- –ì—Ä–∞–Ω–∏—á–Ω—ã–µ —É—Å–ª–æ–≤–∏—è (–æ—Ç—Å–∫–æ–∫, —Ç–æ—Ä, –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ)
- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏ —Å–∏–º—É–ª—è—Ü–∏–∏ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏

### üìÅ Effects/ - –í–∏–∑—É–∞–ª—å–Ω—ã–µ —ç—Ñ—Ñ–µ–∫—Ç—ã
#### Lighting.h
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –°–∏—Å—Ç–µ–º–∞ –æ—Å–≤–µ—â–µ–Ω–∏—è –¥–ª—è —á–∞—Å—Ç–∏—Ü
- Glow —ç—Ñ—Ñ–µ–∫—Ç—ã: —Ä–∞–¥–∏–∞–ª—å–Ω–æ–µ —Å–≤–µ—á–µ–Ω–∏–µ –æ—Ç —Ü–µ–Ω—Ç—Ä–∞ —á–∞—Å—Ç–∏—Ü
- Bloom: —Å–≤–µ—á–µ–Ω–∏–µ —è—Ä–∫–∏—Ö –æ–±–ª–∞—Å—Ç–µ–π
- State-based —ç—Ñ—Ñ–µ–∫—Ç—ã: —Ä–∞–∑–Ω—ã–µ —Ç–∏–ø—ã –æ—Å–≤–µ—â–µ–Ω–∏—è –¥–ª—è —Ä–∞–∑–Ω—ã—Ö —Å–æ—Å—Ç–æ—è–Ω–∏–π —Å–∏–º—É–ª—è—Ü–∏–∏
- –ì–ª–æ–±–∞–ª—å–Ω–æ–µ –æ—Å–≤–µ—â–µ–Ω–∏–µ: ambient –∏ directional lighting

#### Lighting.h
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –û—Å–≤–µ—â–µ–Ω–∏–µ –∏ —Å–≤–µ—Ç–æ–≤—ã–µ —ç—Ñ—Ñ–µ–∫—Ç—ã
- –°—Ç—Ä—É–∫—Ç—É—Ä—ã –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤ —Å–≤–µ—Ç–∞ (`Light`, `ParticleMaterial`)
- –†–∞—Å—á–µ—Ç –æ—Å–≤–µ—â–µ–Ω–∏—è (diffuse, specular, ambient)
- –°–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ —ç—Ñ—Ñ–µ–∫—Ç—ã (rim lighting, fresnel, glow)
- –ú–Ω–æ–≥–æ–∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤–æ–µ –æ—Å–≤–µ—â–µ–Ω–∏–µ –¥–ª—è —á–∞—Å—Ç–∏—Ü

## –û—Å–Ω–æ–≤–Ω–æ–π —Ñ–∞–π–ª —à–µ–π–¥–µ—Ä–∞

–û—Å–Ω–æ–≤–Ω–æ–π —Ñ–∞–π–ª `ParticleShader.metal` –∏–º–ø–æ—Ä—Ç–∏—Ä—É–µ—Ç –º–æ–¥—É–ª—å–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã:
1. `Engine/Shaders/Core/Common.h` - –æ–±—â–∏–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –¥–∞–Ω–Ω—ã—Ö
2. `Engine/Shaders/Core/Utils.h` - –≤—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏
3. `Engine/Shaders/Compute/Physics.h` - compute —à–µ–π–¥–µ—Ä –¥–ª—è —Ñ–∏–∑–∏–∫–∏ —á–∞—Å—Ç–∏—Ü
4. `Engine/Shaders/Rendering/Basic.h` - –±–∞–∑–æ–≤—ã–µ vertex/fragment —à–µ–π–¥–µ—Ä—ã
5. `Engine/Shaders/Effects/Lighting.h` - —Å–∏—Å—Ç–µ–º–∞ –æ—Å–≤–µ—â–µ–Ω–∏—è (glow, bloom, state-based —ç—Ñ—Ñ–µ–∫—Ç—ã)
6. `ParticleShader.metal` - –≥–ª–∞–≤–Ω—ã–π Metal —à–µ–π–¥–µ—Ä (–∫–æ–º–ø–∏–ª–∏—Ä—É–µ—Ç –≤—Å–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã)

## –ê–∫—Ç–∏–≤–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

### ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ:
- **Compute/Physics.h** - –ø–æ–ª–Ω–∞—è —Ñ–∏–∑–∏–∫–∞ —á–∞—Å—Ç–∏—Ü (`updateParticles()`)
- **Compute/Simulation.h** - –ª–æ–≥–∏–∫–∞ —Å–∏–º—É–ª—è—Ü–∏–∏ (–∫–æ–Ω–µ—á–Ω—ã–π –∞–≤—Ç–æ–º–∞—Ç, –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è, –≥—Ä–∞–Ω–∏—Ü—ã)
- **Rendering/Basic.h** - –ø—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–π —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥ —á–∞—Å—Ç–∏—Ü (vertex/fragment —à–µ–π–¥–µ—Ä—ã, –æ—Å–≤–µ—â–µ–Ω–∏–µ)
- **Core/Common.h** - —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –¥–∞–Ω–Ω—ã—Ö (Particle, SimulationParams)
- **Core/Utils.h** - –≤—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ (hash, noise)
- **Effects/Lighting.h** - —Å–∏—Å—Ç–µ–º–∞ –æ—Å–≤–µ—â–µ–Ω–∏—è (glow, bloom, state-based —ç—Ñ—Ñ–µ–∫—Ç—ã)
- **ParticleShader.metal** - –≥–ª–∞–≤–Ω—ã–π Metal —à–µ–π–¥–µ—Ä (–∫–æ–º–ø–∏–ª–∏—Ä—É–µ—Ç –≤—Å–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã)

## –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ –º–æ–¥—É–ª—å–Ω–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã

1. **–õ–æ–≥–∏—á–µ—Å–∫–∞—è –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è** - –∫–∞–∂–¥—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –≤ —Å–≤–æ–µ–π –ø–∞–ø–∫–µ
2. **–ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å** - –ª–µ–≥–∫–æ –¥–æ–±–∞–≤–ª—è—Ç—å –Ω–æ–≤—ã–µ —ç—Ñ—Ñ–µ–∫—Ç—ã –∏ —Å–∏—Å—Ç–µ–º—ã
3. **–ß–∏—Ç–∞–µ–º–æ—Å—Ç—å** - —á–µ—Ç–∫–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ —Å –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–µ–π
4. **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å** - –æ–¥–∏–Ω —Ñ–∞–π–ª –∫–æ–º–ø–∏–ª—è—Ü–∏–∏ –¥–ª—è Metal
5. **–ü–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ** - –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤ —Ä–∞–∑–Ω—ã—Ö –ø—Ä–æ–µ–∫—Ç–∞—Ö

## –ö–æ–º–ø–∏–ª—è—Ü–∏—è

–í—Å–µ —Ñ–∞–π–ª—ã –∫–æ–º–ø–∏–ª–∏—Ä—É—é—Ç—Å—è –≤–º–µ—Å—Ç–µ —á–µ—Ä–µ–∑ –æ—Å–Ω–æ–≤–Ω–æ–π —Ñ–∞–π–ª `ParticleShader.metal`. Metal –∫–æ–º–ø–∏–ª—è—Ç–æ—Ä –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Ä–∞–∑—Ä–µ—à–∞–µ—Ç –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –º–µ–∂–¥—É —Ñ–∞–π–ª–∞–º–∏.